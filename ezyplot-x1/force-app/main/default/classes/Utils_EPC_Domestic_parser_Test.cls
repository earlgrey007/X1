@IsTest
public class Utils_EPC_Domestic_parser_Test {
	
	// This test method should give 100% coverage
	static testMethod void testParse() {
		String json = '{\"column-names\":[\"lmk-key\",\"address1\",\"address2\",\"address3\",\"postcode\",\"building-reference-number\",\"current-energy-rating\",\"potential-energy-rating\",\"current-energy-efficiency\",\"potential-energy-efficiency\",\"property-type\",\"built-form\",\"inspection-date\",\"local-authority\",\"constituency\",\"county\",\"lodgement-date\",\"transaction-type\",\"environment-impact-current\",\"environment-impact-potential\",\"energy-consumption-current\",\"energy-consumption-potential\",\"co2-emissions-current\",\"co2-emiss-curr-per-floor-area\",\"co2-emissions-potential\",\"lighting-cost-current\",\"lighting-cost-potential\",\"heating-cost-current\",\"heating-cost-potential\",\"hot-water-cost-current\",\"hot-water-cost-potential\",\"total-floor-area\",\"energy-tariff\",\"mains-gas-flag\",\"floor-level\",\"flat-top-storey\",\"flat-storey-count\",\"main-heating-controls\",\"multi-glaze-proportion\",\"glazed-type\",\"glazed-area\",\"extension-count\",\"number-habitable-rooms\",\"number-heated-rooms\",\"low-energy-lighting\",\"number-open-fireplaces\",\"hotwater-description\",\"hot-water-energy-eff\",\"hot-water-env-eff\",\"floor-description\",\"floor-energy-eff\",\"floor-env-eff\",\"windows-description\",\"windows-energy-eff\",\"windows-env-eff\",\"walls-description\",\"walls-energy-eff\",\"walls-env-eff\",\"secondheat-description\",\"sheating-energy-eff\",\"sheating-env-eff\",\"roof-description\",\"roof-energy-eff\",\"roof-env-eff\",\"mainheat-description\",\"mainheat-energy-eff\",\"mainheat-env-eff\",\"mainheatcont-description\",\"mainheatc-energy-eff\",\"mainheatc-env-eff\",\"lighting-description\",\"lighting-energy-eff\",\"lighting-env-eff\",\"main-fuel\",\"wind-turbine-count\",\"heat-loss-corridoor\",\"unheated-corridor-length\",\"floor-height\",\"photo-supply\",\"solar-water-heating-flag\",\"mechanical-ventilation\",\"address\",\"local-authority-label\",\"constituency-label\",\"posttown\",\"construction-age-band\",\"lodgement-datetime\",\"tenure\",\"fixed-lighting-outlets-count\",\"low-energy-fixed-light-count\"],\"rows\":[{\"low-energy-fixed-light-count\":\"10\",\"address\":\"Flat 17 Duncombe House, 15, Victory Parade\",\"floor-height\":\"\",\"heating-cost-potential\":\"145\",\"unheated-corridor-length\":\"\",\"hot-water-cost-potential\":\"60\",\"construction-age-band\":\"NO DATA!\",\"potential-energy-rating\":\"B\",\"mainheat-energy-eff\":\"Very Good\",\"windows-env-eff\":\"Good\",\"lighting-energy-eff\":\"Very Good\",\"environment-impact-potential\":\"94\",\"glazed-type\":\"NO DATA!\",\"heating-cost-current\":\"145\",\"address3\":\"\",\"mainheatcont-description\":\"Charging system linked to use of community heating, programmer and TRVs\",\"sheating-energy-eff\":\"N\\/A\",\"property-type\":\"Flat\",\"local-authority-label\":\"Greenwich\",\"fixed-lighting-outlets-count\":\"10\",\"energy-tariff\":\"standard tariff\",\"mechanical-ventilation\":\"NO DATA!\",\"hot-water-cost-current\":\"60\",\"county\":\"Greater London Authority\",\"postcode\":\"SE18 6FY\",\"solar-water-heating-flag\":\"\",\"constituency\":\"E14000718\",\"co2-emissions-potential\":\"0.4\",\"number-heated-rooms\":\"\",\"heat-loss-corridoor\":\"NO DATA!\",\"floor-description\":\"(other premises below)\",\"energy-consumption-potential\":\"44\",\"local-authority\":\"E09000011\",\"built-form\":\"Detached\",\"number-open-fireplaces\":\"0\",\"windows-description\":\"Fully double glazed\",\"glazed-area\":\"NO DATA!\",\"inspection-date\":\"2017-05-02\",\"mains-gas-flag\":\"\",\"co2-emiss-curr-per-floor-area\":\"9\",\"address1\":\"Flat 17 Duncombe House\",\"flat-storey-count\":\"\",\"constituency-label\":\"Greenwich and Woolwich\",\"roof-energy-eff\":\"N\\/A\",\"total-floor-area\":\"50\",\"building-reference-number\":\"3890841578\",\"environment-impact-current\":\"94\",\"co2-emissions-current\":\"0.4\",\"roof-description\":\"(other premises above)\",\"floor-energy-eff\":\"N\\/A\",\"number-habitable-rooms\":\"\",\"address2\":\"15, Victory Parade\",\"hot-water-env-eff\":\"Very Good\",\"posttown\":\"LONDON\",\"mainheatc-energy-eff\":\"Good\",\"main-fuel\":\"NO DATA!\",\"lighting-env-eff\":\"Very Good\",\"windows-energy-eff\":\"Good\",\"floor-env-eff\":\"N\\/A\",\"sheating-env-eff\":\"N\\/A\",\"lighting-description\":\"Low energy lighting in all fixed outlets\",\"roof-env-eff\":\"N\\/A\",\"walls-energy-eff\":\"Very Good\",\"photo-supply\":\"\",\"lighting-cost-potential\":\"36\",\"mainheat-env-eff\":\"Very Good\",\"multi-glaze-proportion\":\"\",\"main-heating-controls\":\"\",\"lodgement-datetime\":\"2017-05-04 11:59:11\",\"flat-top-storey\":\"\",\"current-energy-rating\":\"B\",\"secondheat-description\":\"None\",\"walls-env-eff\":\"Very Good\",\"transaction-type\":\"new dwelling\",\"current-energy-efficiency\":\"84\",\"energy-consumption-current\":\"44\",\"mainheat-description\":\"Community scheme\",\"lighting-cost-current\":\"36\",\"lodgement-date\":\"2017-05-04\",\"extension-count\":\"\",\"mainheatc-env-eff\":\"Good\",\"lmk-key\":\"1539502349802017050411591155130428\",\"wind-turbine-count\":\"\",\"tenure\":\"unknown\",\"floor-level\":\"mid floor\",\"potential-energy-efficiency\":\"84\",\"hot-water-energy-eff\":\"Very Good\",\"low-energy-lighting\":\"100\",\"walls-description\":\"Average thermal transmittance 0.1 W\\/m\\u00b2K\",\"hotwater-description\":\"Community scheme\"},{\"low-energy-fixed-light-count\":\"10\",\"address\":\"Flat 8 Duncombe House, 15, Victory Parade\",\"floor-height\":\"\",\"heating-cost-potential\":\"128\",\"unheated-corridor-length\":\"\",\"hot-water-cost-potential\":\"65\",\"construction-age-band\":\"NO DATA!\",\"potential-energy-rating\":\"B\",\"mainheat-energy-eff\":\"Very Good\",\"windows-env-eff\":\"Good\",\"lighting-energy-eff\":\"Very Good\",\"environment-impact-potential\":\"94\",\"glazed-type\":\"NO DATA!\",\"heating-cost-current\":\"128\",\"address3\":\"\",\"mainheatcont-description\":\"Charging system linked to use of community heating, programmer and TRVs\",\"sheating-energy-eff\":\"N\\/A\",\"property-type\":\"Flat\",\"local-authority-label\":\"Greenwich\",\"fixed-lighting-outlets-count\":\"10\",\"energy-tariff\":\"standard tariff\",\"mechanical-ventilation\":\"NO DATA!\",\"hot-water-cost-current\":\"65\",\"county\":\"Greater London Authority\",\"postcode\":\"SE18 6FY\",\"solar-water-heating-flag\":\"\",\"constituency\":\"E14000718\",\"co2-emissions-potential\":\"0.4\",\"number-heated-rooms\":\"\",\"heat-loss-corridoor\":\"NO DATA!\",\"floor-description\":\"(other premises below)\",\"energy-consumption-potential\":\"37\",\"local-authority\":\"E09000011\",\"built-form\":\"Detached\",\"number-open-fireplaces\":\"0\",\"windows-description\":\"Fully double glazed\",\"glazed-area\":\"NO DATA!\",\"inspection-date\":\"2017-05-02\",\"mains-gas-flag\":\"\",\"co2-emiss-curr-per-floor-area\":\"7\",\"address1\":\"Flat 8 Duncombe House\",\"flat-storey-count\":\"\",\"constituency-label\":\"Greenwich and Woolwich\",\"roof-energy-eff\":\"N\\/A\",\"total-floor-area\":\"62\",\"building-reference-number\":\"1101841578\",\"environment-impact-current\":\"94\",\"co2-emissions-current\":\"0.4\",\"roof-description\":\"(other premises above)\",\"floor-energy-eff\":\"N\\/A\",\"number-habitable-rooms\":\"\",\"address2\":\"15, Victory Parade\",\"hot-water-env-eff\":\"Very Good\",\"posttown\":\"LONDON\",\"mainheatc-energy-eff\":\"Good\",\"main-fuel\":\"NO DATA!\",\"lighting-env-eff\":\"Very Good\",\"windows-energy-eff\":\"Good\",\"floor-env-eff\":\"N\\/A\",\"sheating-env-eff\":\"N\\/A\",\"lighting-description\":\"Low energy lighting in all fixed outlets\",\"roof-env-eff\":\"N\\/A\",\"walls-energy-eff\":\"Very Good\",\"photo-supply\":\"\",\"lighting-cost-potential\":\"43\",\"mainheat-env-eff\":\"Very Good\",\"multi-glaze-proportion\":\"\",\"main-heating-controls\":\"\",\"lodgement-datetime\":\"2017-05-04 11:58:56\",\"flat-top-storey\":\"\",\"current-energy-rating\":\"B\",\"secondheat-description\":\"None\",\"walls-env-eff\":\"Very Good\",\"transaction-type\":\"new dwelling\",\"current-energy-efficiency\":\"87\",\"energy-consumption-current\":\"37\",\"mainheat-description\":\"Community scheme\",\"lighting-cost-current\":\"43\",\"lodgement-date\":\"2017-05-04\",\"extension-count\":\"\",\"mainheatc-env-eff\":\"Good\",\"lmk-key\":\"1539399549142017050411585654130528\",\"wind-turbine-count\":\"\",\"tenure\":\"unknown\",\"floor-level\":\"mid floor\",\"potential-energy-efficiency\":\"87\",\"hot-water-energy-eff\":\"Very Good\",\"low-energy-lighting\":\"100\",\"walls-description\":\"Average thermal transmittance 0.1 W\\/m\\u00b2K\",\"hotwater-description\":\"Community scheme\"}]}';
		Utils_EPC_Domestic_parser r = Utils_EPC_Domestic_parser.parse(json);
		System.assert(r != null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		Utils_EPC_Domestic_parser objUtils_EPC_Domestic_parser = new Utils_EPC_Domestic_parser(System.JSON.createParser(json));
		System.assert(objUtils_EPC_Domestic_parser != null);
		System.assert(objUtils_EPC_Domestic_parser.column_names == null);
		System.assert(objUtils_EPC_Domestic_parser.rows == null);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		Utils_EPC_Domestic_parser.Rows objRows = new Utils_EPC_Domestic_parser.Rows(System.JSON.createParser(json));
		System.assert(objRows != null);
		System.assert(objRows.low_energy_fixed_light_count == null);
		System.assert(objRows.address == null);
		System.assert(objRows.floor_height == null);
		System.assert(objRows.heating_cost_potential == null);
		System.assert(objRows.unheated_corridor_length == null);
		System.assert(objRows.hot_water_cost_potential == null);
		System.assert(objRows.construction_age_band == null);
		System.assert(objRows.potential_energy_rating == null);
		System.assert(objRows.mainheat_energy_eff == null);
		System.assert(objRows.windows_env_eff == null);
		System.assert(objRows.lighting_energy_eff == null);
		System.assert(objRows.environment_impact_potential == null);
		System.assert(objRows.glazed_type == null);
		System.assert(objRows.heating_cost_current == null);
		System.assert(objRows.address3 == null);
		System.assert(objRows.mainheatcont_description == null);
		System.assert(objRows.sheating_energy_eff == null);
		System.assert(objRows.property_type == null);
		System.assert(objRows.local_authority_label == null);
		System.assert(objRows.fixed_lighting_outlets_count == null);
		System.assert(objRows.energy_tariff == null);
		System.assert(objRows.mechanical_ventilation == null);
		System.assert(objRows.hot_water_cost_current == null);
		System.assert(objRows.county == null);
		System.assert(objRows.postcode == null);
		System.assert(objRows.solar_water_heating_flag == null);
		System.assert(objRows.constituency == null);
		System.assert(objRows.co2_emissions_potential == null);
		System.assert(objRows.number_heated_rooms == null);
		System.assert(objRows.heat_loss_corridoor == null);
		System.assert(objRows.floor_description == null);
		System.assert(objRows.energy_consumption_potential == null);
		System.assert(objRows.local_authority == null);
		System.assert(objRows.built_form == null);
		System.assert(objRows.number_open_fireplaces == null);
		System.assert(objRows.windows_description == null);
		System.assert(objRows.glazed_area == null);
		System.assert(objRows.inspection_date == null);
		System.assert(objRows.mains_gas_flag == null);
		System.assert(objRows.co2_emiss_curr_per_floor_area == null);
		System.assert(objRows.address1 == null);
		System.assert(objRows.flat_storey_count == null);
		System.assert(objRows.constituency_label == null);
		System.assert(objRows.roof_energy_eff == null);
		System.assert(objRows.total_floor_area == null);
		System.assert(objRows.building_reference_number == null);
		System.assert(objRows.environment_impact_current == null);
		System.assert(objRows.co2_emissions_current == null);
		System.assert(objRows.roof_description == null);
		System.assert(objRows.floor_energy_eff == null);
		System.assert(objRows.number_habitable_rooms == null);
		System.assert(objRows.address2 == null);
		System.assert(objRows.hot_water_env_eff == null);
		System.assert(objRows.posttown == null);
		System.assert(objRows.mainheatc_energy_eff == null);
		System.assert(objRows.main_fuel == null);
		System.assert(objRows.lighting_env_eff == null);
		System.assert(objRows.windows_energy_eff == null);
		System.assert(objRows.floor_env_eff == null);
		System.assert(objRows.sheating_env_eff == null);
		System.assert(objRows.lighting_description == null);
		System.assert(objRows.roof_env_eff == null);
		System.assert(objRows.walls_energy_eff == null);
		System.assert(objRows.photo_supply == null);
		System.assert(objRows.lighting_cost_potential == null);
		System.assert(objRows.mainheat_env_eff == null);
		System.assert(objRows.multi_glaze_proportion == null);
		System.assert(objRows.main_heating_controls == null);
		System.assert(objRows.lodgement_datetime == null);
		System.assert(objRows.flat_top_storey == null);
		System.assert(objRows.current_energy_rating == null);
		System.assert(objRows.secondheat_description == null);
		System.assert(objRows.walls_env_eff == null);
		System.assert(objRows.transaction_type == null);
		System.assert(objRows.current_energy_efficiency == null);
		System.assert(objRows.energy_consumption_current == null);
		System.assert(objRows.mainheat_description == null);
		System.assert(objRows.lighting_cost_current == null);
		System.assert(objRows.lodgement_date == null);
		System.assert(objRows.extension_count == null);
		System.assert(objRows.mainheatc_env_eff == null);
		System.assert(objRows.lmk_key == null);
		System.assert(objRows.wind_turbine_count == null);
		System.assert(objRows.tenure == null);
		System.assert(objRows.floor_level == null);
		System.assert(objRows.potential_energy_efficiency == null);
		System.assert(objRows.hot_water_energy_eff == null);
		System.assert(objRows.low_energy_lighting == null);
		System.assert(objRows.walls_description == null);
		System.assert(objRows.hotwater_description == null);
	}
}